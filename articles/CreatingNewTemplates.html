<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>CreatingNewTemplates • dsreportr</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="CreatingNewTemplates">
<meta property="og:description" content="dsreportr">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    

    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">dsreportr</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.0.0.9001</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/CreatingNewTemplates.html">CreatingNewTemplates</a>
    </li>
    <li>
      <a href="../articles/SessionInformation.html">SessionInformation</a>
    </li>
  </ul>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right"></ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><script src="CreatingNewTemplates_files/accessible-code-block-0.0.1/empty-anchor.js"></script><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>CreatingNewTemplates</h1>
            
      
      
      <div class="hidden name"><code>CreatingNewTemplates.Rmd</code></div>

    </div>

    
    
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://steveneschrich.github.io/dsreportr">dsreportr</a></span><span class="op">)</span></code></pre></div>
<p>There are a few tools to make creating derivative packages that incorporate new templates. As an example, let’s consider creating a new “bbireportr” package.</p>
<div class="section level2">
<h2 id="usethis-inspired-approach">Usethis inspired approach<a class="anchor" aria-label="anchor" href="#usethis-inspired-approach"></a>
</h2>
<p>The easiest way to create a new template is not to, but rather just modify the YAML header from the skeleton markdown in a new file. That’s great for a one-off. If that doesn’t work, create a new package (based on devtools, at least in rstudio). Then, from the project directory:</p>
<pre><code><span class="fu">dsreportr</span><span class="fu">::</span><span class="fu"><a href="../reference/create_template_in_package.html">create_template_in_package</a></span><span class="op">(</span><span class="st">"bbireportr::bbi_pdf"</span><span class="op">)</span></code></pre>
<p>This will create the necessary files, etc to make a new template. Note that the function provides copious output during the creation.</p>
<p>What if you want a banner image with the template? No problem, you can run:</p>
<pre><code><span class="fu">dsreportr</span><span class="fu">::</span><span class="fu"><a href="../reference/create_template_in_package.html">create_template_in_package</a></span><span class="op">(</span><span class="st">"bbireportr::bbi_pdf"</span>, <span class="st">"image.jpg"</span><span class="op">)</span></code></pre>
<p>If you think about adding a banner after the fact (after creating the template), you can just use:</p>
<pre><code><span class="fu">dsreportr</span><span class="fu">::</span><span class="fu"><a href="../reference/use_banner.html">use_banner</a></span><span class="op">(</span><span class="st">"bbireportr::bbi_pdf"</span>, <span class="st">"image.jpg"</span><span class="op">)</span></code></pre>
</div>
<div class="section level2">
<h2 id="manual-steps">Manual Steps<a class="anchor" aria-label="anchor" href="#manual-steps"></a>
</h2>
<p>You can also manually create a template for use. The basic components of the package that are required include the following.</p>
<div class="section level3">
<h3 id="bbi_pdf-r">bbi_pdf.R<a class="anchor" aria-label="anchor" href="#bbi_pdf-r"></a>
</h3>
<p><code>R/bbi_pdf.R</code> is a wrapper around <code><a href="https://pkgs.rstudio.com/bookdown/reference/html_document2.html" class="external-link">bookdown::pdf_document2()</a></code> that provides a way to insert the latex template. If this isn’t clear, don’t worry since there isn’t much that is needed. Since the template comes from this package (dsreportr), there is no need to do anything except name the function. Here is an example of what it could be:</p>
<pre><code><span class="va">bbi_pdf</span> <span class="op">&lt;-</span> <span class="fu">dsreportr</span><span class="fu">::</span><span class="va"><a href="../reference/ds_pdf.html">ds_pdf</a></span></code></pre>
<p>However, if you want to use a roxygen2 template and use rstudio <code>Code-&gt;Insert Roxygen Skeleton</code>, then you would create a bit more:</p>
<pre><code><span class="va">bbi_pdf</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">...</span><span class="op">)</span> <span class="op">{</span><span class="fu">dsreportr</span><span class="fu">::</span><span class="fu"><a href="../reference/ds_pdf.html">ds_pdf</a></span><span class="op">(</span><span class="va">...</span><span class="op">)</span><span class="op">}</span></code></pre>
<p>That’s it. We can now specify in a YAML markdown report header:</p>
<pre><code><span class="va">output</span><span class="op">:</span>
  <span class="fu">bbireportr</span><span class="fu">::</span><span class="fu">bbi_pdf</span><span class="op">(</span><span class="op">)</span></code></pre>
</div>
<div class="section level3">
<h3 id="template">Template<a class="anchor" aria-label="anchor" href="#template"></a>
</h3>
<p>Next, we create the following directory: <code>inst/rmarkdown/templates/bbi_pdf</code>. This directory will hold the banner image (if you want one), the skeleton markdown and the description of the template.</p>
<ul>
<li><p>The banner image is easy - put a jpg/png file in the <code>inst/rmarkdown/templates/bbi_pdf/resources</code> directory. You want to make sure it is appropriately sized (full width looks nice, but other options are reasonable).</p></li>
<li><p>A description of the template should be in <code>inst/rmarkdown/templates/bbi_pdf/template.yaml</code>. This is a simple file with only a couple of lines:</p></li>
</ul>
<pre><code>name: Biostatistics, Bioinformatics and Informatics PDF Report Output
description: A Biostatistics, Bioinformatics and Informatics PDF report.
create_dir: false</code></pre>
<p>You may want more inspired text, but that is sufficient. Note that the name will show up in the <code>File-&gt;New File-&gt;R Markdown-&gt;Templates</code> selection in Rstudio.</p>
<ul>
<li>A skeleton markdown file, providing the necessary components to run the template. Note that this package provides a complete <code>skeleton.Rmd</code> file which can be copied to: <code>inst/rmarkdown/templates/bbi_pdf/skeleton</code>. You don’t have to find the skeleton file, though. You could execute the following:</li>
</ul>
<pre><code><span class="fu">dsreportr</span><span class="fu">::</span><span class="fu"><a href="../reference/new_markdown.html">new_markdown</a></span><span class="op">(</span><span class="st">"inst/rmarkdown/templates/bbi_pdf/skeleton/skeleton.Rmd"</span><span class="op">)</span></code></pre>
<p>From this file, you’ll want to change two fields:</p>
<pre><code>banner: "`` `r
dsreportr::banner("bbireportr::bbi_pdf")` ``"
output:
  bbireportr::bbi_pdf:
    latex_engine: pdflatex
    keep_tex: false</code></pre>
<p>That’s it. At this point, you should have a workable package that implements a new R markdown template.</p>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p></p>
<p>Developed by Steven Eschrich.</p>
</div>

<div class="pkgdown">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.1.</p>
</div>

      </footer>
</div>

  


  

  </body>
</html>
